/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

package it.geosolutions.georepo.core.model;


import com.vividsolutions.jts.geom.MultiPolygon;
import com.vividsolutions.jts.io.WKTReader;
import java.util.Date;
import javax.xml.bind.JAXBContext;
import javax.xml.bind.Marshaller;
import junit.framework.TestCase;
import org.junit.Test;

/**
 *
 * @author ETj <etj at geo-solutions.it>
 */
public class XMLMarshalerTest extends TestCase {

    public XMLMarshalerTest() {
    }

    @SuppressWarnings("deprecation")
    @Test
    public void testMarhsal()  throws Exception {

        DGAoi aoi = new DGAoi();
        aoi.setArea(42);
        aoi.setCreationDate(new Date(2000, 01, 01));

    	WKTReader reader = new WKTReader();
    	MultiPolygon mp  = (MultiPolygon) reader.read("MULTIPOLYGON(((48.6894038 62.33877482, 48.7014874 62.33877482, 48.7014874 62.33968662, 48.6894038 62.33968662, 48.6894038 62.33877482)))");
    	mp.setSRID(4326);
        aoi.setGeometry(mp);

        JAXBContext context = JAXBContext.newInstance(DGAoi.class);
        Marshaller marshaller = context.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true); //pretty print XML
        marshaller.marshal(aoi, System.out);
    }


}
